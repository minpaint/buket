# ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

## –î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
16 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–æ–¥–µ–ª–∏ Product:**
```python
# –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
categories = models.ManyToManyField('Category', related_name='products', blank=True)

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
category = models.ForeignKey('Category', related_name='main_products', ...)
```

**–ú–∏–≥—Ä–∞—Ü–∏—è:** `0011_product_categories_alter_product_category.py` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ

### 2. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**–ö–æ–º–∞–Ω–¥–∞:** `python manage.py create_categories`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **54 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π
- **13 —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
  1. –°–≤–∞–¥–µ–±–Ω–∞—è —Ñ–ª–æ—Ä–∏—Å—Ç–∏–∫–∞ (4 –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  2. –ë—É–∫–µ—Ç—ã –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ (9 –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π)
  3. –ë—É–∫–µ—Ç—ã –∏–∑ —Ä–æ–∑
  4. –ë—É–∫–µ—Ç—ã –ø–æ —Ü–≤–µ—Ç–∞–º (21 –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
  5. –¶–≤–µ—Ç–æ—á–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (4 –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  6. –¶–≤–µ—Ç—ã –≤ –∫–æ—Ä–æ–±–∫–∞—Ö
  7. –°–µ—Ä–¥—Ü–µ –∏–∑ —Ä–æ–∑ –∏ –¥—Ä—É–≥–∏—Ö —Ü–≤–µ—Ç–æ–≤
  8. –ë—É–∫–µ—Ç—ã –¥–ª—è –º—É–∂—á–∏–Ω
  9. –ë—É–∫–µ—Ç—ã —Å —Ñ—Ä—É–∫—Ç–∞–º–∏
  10. –ö–æ—Ä–∑–∏–Ω—ã —Å —Ü–≤–µ—Ç–∞–º–∏ (3 –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  11. –ó–∏–º–Ω–∏–µ –±—É–∫–µ—Ç—ã
  12. –ì–æ—Ä—à–µ—á–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è
  13. –ë—É–∫–µ—Ç –∏–∑ —Å—É—Ö–æ—Ü–≤–µ—Ç–æ–≤

### 3. ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Ç–æ–≤–∞—Ä—ã –∏–∑ VirtueMart

**–ö–æ–º–∞–Ω–¥–∞:** `python manage.py migrate_old_data --products-only`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **168 —Ç–æ–≤–∞—Ä–æ–≤** —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã
- –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä —Å–≤—è–∑–∞–Ω —Å **–Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏** (many-to-many)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ **–æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã:
  - –ê—Ä—Ç–∏–∫—É–ª—ã (article)
  - –ù–∞–∑–≤–∞–Ω–∏—è (title)
  - –û–ø–∏—Å–∞–Ω–∏—è (description)

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- –¢–æ–≤–∞—Ä–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏: **161 –∏–∑ 168**
- –¢–æ–≤–∞—Ä–æ–≤ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö: –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ

### 4. ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∑–∞–ø–∏—Å–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ö–æ–º–∞–Ω–¥–∞:** `python manage.py migrate_old_data --images-only`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **366 –∑–∞–ø–∏—Å–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (sort_order)
- –ü—É—Ç–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –∏–∑ VirtueMart —Ñ–æ—Ä–º–∞—Ç–∞

### 5. ‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `old/public_html/images/product/data/`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** `backend/media/products/`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **876 —Ñ–∞–π–ª–æ–≤** —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ (–≤–∫–ª—é—á–∞—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ)
- **366 —Ñ–∞–π–ª–æ–≤** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–≤–∞—Ä–∞–º–∏
- **100% —Ñ–∞–π–ª–æ–≤ –Ω–∞–π–¥–µ–Ω–æ** - –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –º–µ—Å—Ç–µ!

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –ë–ê–ó–ê –î–ê–ù–ù–´–•                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–π:              54              ‚îÇ
‚îÇ   - –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö:       13              ‚îÇ
‚îÇ   - –î–æ—á–µ—Ä–Ω–∏—Ö:           41              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –¢–æ–≤–∞—Ä–æ–≤:                168             ‚îÇ
‚îÇ   - –° –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏:    161             ‚îÇ
‚îÇ   - –í –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö:       168             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:            366             ‚îÇ
‚îÇ   - –ó–∞–ø–∏—Å–µ–π –≤ –ë–î:       366             ‚îÇ
‚îÇ   - –§–∞–π–ª–æ–≤ –Ω–∞–π–¥–µ–Ω–æ:     366 (100%)      ‚îÇ
‚îÇ   - –§–∞–π–ª–æ–≤ –≤—Å–µ–≥–æ:       876             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### Management –∫–æ–º–∞–Ω–¥—ã Django:

1. **create_categories.py**
   ```bash
   python manage.py create_categories
   python manage.py create_categories --clear  # –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å
   ```
   –°–æ–∑–¥–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é –∏–∑ 54 –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

2. **migrate_old_data.py**
   ```bash
   python manage.py migrate_old_data                # –≤—Å–µ
   python manage.py migrate_old_data --categories-only
   python manage.py migrate_old_data --products-only
   python manage.py migrate_old_data --images-only
   ```
   –ú–∏–≥—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ VirtueMart SQL –¥–∞–º–ø–∞.

3. **check_images.py**
   ```bash
   python manage.py check_images
   ```
   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- `MIGRATION_GUIDE.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- `QUICK_START.md` - –±—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞
- `MIGRATION_STATUS.md` - —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `MIGRATION_COMPLETE.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ß–µ—Ä–µ–∑ Django shell:

```bash
cd "G:\–ú–æ–π –¥–∏—Å–∫\buket\backend"
python manage.py shell
```

```python
from shop.models import Category, Product, ProductImage

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
print(f"Categories: {Category.objects.count()}")  # 54
print(f"Products: {Product.objects.count()}")      # 168
print(f"Images: {ProductImage.objects.count()}")   # 366

# –ü—Ä–∏–º–µ—Ä —Ç–æ–≤–∞—Ä–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
p = Product.objects.filter(images__isnull=False).first()
print(f"\n–ü—Ä–∏–º–µ—Ä: {p.title}")
print(f"–û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: {p.category.name if p.category else '–Ω–µ—Ç'}")
print(f"–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: {[c.name for c in p.categories.all()]}")
print(f"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: {p.images.count()}")

# –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
for parent in Category.objects.filter(parent=None)[:3]:
    print(f"\n{parent.name}:")
    for child in parent.children.all()[:5]:
        count = child.products.count()
        print(f"  - {child.name} ({count} —Ç–æ–≤–∞—Ä–æ–≤)")
```

### –ß–µ—Ä–µ–∑ Django Admin:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   python manage.py runserver
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8000/admin

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 54
   - –¢–æ–≤–∞—Ä—ã ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 168
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 366

## üìù –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω (–í–ê–ñ–ù–û!)

–í—Å–µ —Ü–µ–Ω—ã —Å–µ–π—á–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ **0.00**. –ù—É–∂–Ω–æ:

**–í–∞—Ä–∏–∞–Ω—Ç A:** –ß–µ—Ä–µ–∑ Django Admin
```
1. –ó–∞–π—Ç–∏ –≤ /admin/shop/product/
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã –≤—Ä—É—á–Ω—É—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
```

**–í–∞—Ä–∏–∞–Ω—Ç B:** –ß–µ—Ä–µ–∑ SQL (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ —Å —Ü–µ–Ω–∞–º–∏)
```python
# –ï—Å–ª–∏ –≤ SQL –¥–∞–º–ø–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ wzx3q_virtuemart_product_prices
# –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —Ü–µ–Ω –≤ migrate_old_data.py
```

**–í–∞—Ä–∏–∞–Ω—Ç C:** –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
```python
from shop.models import Product

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Ü–µ–Ω—É –≤—Å–µ–º
Product.objects.all().update(price=50.00)

# –ò–ª–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ
products = Product.objects.all()
for p in products:
    p.price = 50.00  # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—É—é —Ü–µ–Ω—É
    p.save()
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–≤–∞—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

```python
from shop.models import Category

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
for cat in Category.objects.all():
    count = cat.products.count()
    if count > 0:
        print(f"{cat.name}: {count} —Ç–æ–≤–∞—Ä–æ–≤")

# –ù–∞—Ö–æ–¥–∏–º –ø—É—Å—Ç—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
empty = Category.objects.filter(products__isnull=True)
print(f"\n–ü—É—Å—Ç—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π: {empty.count()}")
for c in empty:
    print(f"  - {c.name}")
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ç–∞–ª–æ–≥–∞
2. –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
4. –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

–ü—Ä–∏ –≤—ã–±–æ—Ä–∫–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```python
# –í–º–µ—Å—Ç–æ
products = Product.objects.all()
for p in products:
    print(p.category.name)  # N+1 –∑–∞–ø—Ä–æ—Å!

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ
products = Product.objects.select_related('category').prefetch_related('categories', 'images')
for p in products:
    print(p.category.name)  # –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å!
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç–æ–π:

```bash
cd "G:\–ú–æ–π –¥–∏—Å–∫\buket\backend"
python manage.py dumpdata shop > backup_shop_$(date +%Y%m%d).json
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–î–ª—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤:
- –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –ø–æ–ª—è –ø–æ–∏—Å–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pagination
- –ö—ç—à–∏—Ä—É–π—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py showmigrations shop

# –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate shop 0010

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser

# –°–±–æ—Ä —Å—Ç–∞—Ç–∏–∫–∏
python manage.py collectstatic

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
python manage.py check
```

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞**:

- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (54)
- ‚úÖ –¢–æ–≤–∞—Ä—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã (168)
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã (366/366)
- ‚úÖ –°–≤—è–∑–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (many-to-many)
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

**–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã —Å–æ —Å—Ç–∞—Ä–æ–≥–æ —Å–∞–π—Ç–∞ VirtueMart!**

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∫–∞—Ç–∞–ª–æ–≥–∞.

---

*–ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞: 16 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.*
